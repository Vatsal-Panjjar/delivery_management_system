<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order Tracking</title>
</head>
<body>
  <h1>Order Tracking System</h1>
  <form id="order-form">
    <label for="user-id">Enter your User ID:</label>
    <input type="text" id="user-id" name="user-id" required>
    <button type="submit">Place Order</button>
  </form>

  <h2>Track Order Status</h2>
  <form id="track-order-form">
    <label for="order-id">Enter Order ID:</label>
    <input type="text" id="order-id" name="order-id" required>
    <button type="submit">Track Order</button>
  </form>

  <div id="order-status"></div>

  <script>
    // Order Creation
    document.getElementById('order-form').addEventListener('submit', async function(event) {
      event.preventDefault();
      const userID = document.getElementById('user-id').value;

      const response = await fetch('/order', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ user_id: userID })
      });
      
      const data = await response.json();
      alert(`Order created with ID: ${data.order_id}`);
    });

    // Order Tracking
    document.getElementById('track-order-form').addEventListener('submit', async function(event) {
      event.preventDefault();
      const orderID = document.getElementById('order-id').value;
      
      const response = await fetch(`/tracking/${orderID}`);
      const data = await response.json();
      document.getElementById('order-status').innerText = `Order Status: ${data.status}`;
    });
  </script>
</body>
</html>
